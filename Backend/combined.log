{"level":"info","message":"Connecting to Redis...","timestamp":"2025-03-28T04:29:07.737Z"}
{"level":"info","message":"Connecting to Redis...","timestamp":"2025-03-28T04:30:18.692Z"}
{"level":"info","message":"Connecting to Redis...","timestamp":"2025-03-28T04:31:09.415Z"}
{"level":"info","message":"Connecting to Redis...","timestamp":"2025-03-28T04:31:28.457Z"}
{"level":"info","message":"Connecting to Redis...","timestamp":"2025-03-28T04:31:46.524Z"}
{"level":"info","message":"Using to connectRedis...","timestamp":"2025-03-28T04:32:05.113Z"}
{"level":"info","message":"Using to connectRedis...","timestamp":"2025-03-28T04:32:56.339Z"}
{"level":"info","message":"Using to connectRedis...","timestamp":"2025-03-28T04:33:04.632Z"}
{"level":"info","message":"Using to connectRedis...","timestamp":"2025-03-28T04:33:51.321Z"}
{"level":"info","message":"Using to connectRedis...","timestamp":"2025-03-28T04:34:23.051Z"}
{"level":"info","message":"Using to connectRedis...","timestamp":"2025-03-28T04:37:21.535Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.user.findUnique()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\auth\\auth.service.ts:11:44\n\n   8 \n   9 class AuthService {\n  10   async register(data: { email: string; password: string; role?: Role }) {\n→ 11     const existingUser = await prisma.user.findUnique(\nThe table `public.IUser` does not exist in the current database.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async AuthService.register (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\auth\\auth.service.ts:11:26)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\auth\\auth.controller.ts:9:18","timestamp":"2025-03-30T06:08:33.571Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.user.findUnique()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\auth\\auth.service.ts:11:44\n\n   8 \n   9 class AuthService {\n  10   async register(data: { email: string; password: string; role?: Role }) {\n→ 11     const existingUser = await prisma.user.findUnique(\nThe table `public.IUser` does not exist in the current database.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async AuthService.register (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\auth\\auth.service.ts:11:26)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\auth\\auth.controller.ts:9:18","timestamp":"2025-03-30T06:25:37.840Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.user.findUnique()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\auth\\auth.service.ts:11:44\n\n   8 \n   9 class AuthService {\n  10   async register(data: { email: string; password: string; role?: Role }) {\n→ 11     const existingUser = await prisma.user.findUnique(\nThe table `public.IUser` does not exist in the current database.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async AuthService.register (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\auth\\auth.service.ts:11:26)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\auth\\auth.controller.ts:9:18","timestamp":"2025-03-30T13:34:46.575Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.user.create()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\auth\\auth.service.ts:20:36\n\n  17 // }\n  18 \n  19 const hashedPassword = await bcrypt.hash(data.password, 10);\n→ 20 const user = await prisma.user.create(\nThe table `public.IUser` does not exist in the current database.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async AuthService.register (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\auth\\auth.service.ts:20:18)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\auth\\auth.controller.ts:9:18","timestamp":"2025-03-30T13:37:34.529Z"}
{"level":"error","message":"Error: Validation failed\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\validation.middleware.ts:20:22\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-30T14:45:31.093Z"}
{"level":"error","message":"Error: Authentication required\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:23:13)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)","timestamp":"2025-03-30T14:56:15.655Z"}
{"level":"error","message":"Error: Authentication required\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:23:13)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)","timestamp":"2025-03-30T14:57:19.966Z"}
{"level":"error","message":"Error: Category with this slug already exists\n    at CategoryService.createCategory (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\category.service.ts:12:19)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\category.controller.ts:9:20","timestamp":"2025-03-30T15:00:17.031Z"}
{"level":"error","message":"Error: Category not found\n    at CategoryService.deleteCategory (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\category.service.ts:86:19)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\category.controller.ts:35:3","timestamp":"2025-03-30T15:14:41.458Z"}
{"level":"error","message":"Error: Category not found\n    at ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:38:19)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-03-30T15:14:53.838Z"}
{"level":"error","message":"Error: Category not found\n    at ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:38:19)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-03-30T15:15:04.798Z"}
{"level":"error","message":"Error: Validation failed\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\validation.middleware.ts:20:22\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-30T15:16:25.213Z"}
{"level":"error","message":"Error: Category not found\n    at ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:38:19)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-03-30T15:19:58.271Z"}
{"level":"error","message":"Error: Invalid email or password\n    at AuthService.login (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\auth\\auth.service.ts:49:13)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\auth\\auth.controller.ts:15:27","timestamp":"2025-04-01T06:11:26.856Z"}
{"level":"error","message":"Error: Invalid or expired session\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:31:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-01T08:26:33.426Z"}
{"level":"error","message":"Error: Invalid or expired session\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:31:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-01T08:26:33.587Z"}
{"level":"error","message":"Error: Invalid or expired session\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:31:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-01T08:47:08.513Z"}
{"level":"error","message":"Error: Invalid or expired session\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:31:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-01T08:47:08.675Z"}
{"level":"error","message":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at TLSSocket.<anonymous> (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:622:26)\n    at TLSSocket.emit (node:events:519:35)\n    at TLSSocket.emit (node:domain:489:12)\n    at node:net:351:12\n    at TCP.done (node:_tls_wrap:650:7)","timestamp":"2025-04-01T17:01:42.197Z"}
{"level":"error","message":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at TLSSocket.<anonymous> (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:622:26)\n    at TLSSocket.emit (node:events:519:35)\n    at TLSSocket.emit (node:domain:489:12)\n    at node:net:351:12\n    at TCP.done (node:_tls_wrap:650:7)","timestamp":"2025-04-01T17:02:24.417Z"}
{"level":"error","message":"Error: Invalid email or password\n    at AuthService.login (D:\\MINE_MS\\Office\\Projects\\POS\\server\\src\\services\\auth\\auth.service.ts:49:13)\n    at async D:\\MINE_MS\\Office\\Projects\\POS\\server\\src\\controllers\\auth\\auth.controller.ts:15:25","timestamp":"2025-04-02T22:55:06.704Z"}
{"level":"error","message":"Error: Invalid email or password\n    at AuthService.login (D:\\MINE_MS\\Office\\Projects\\POS\\server\\src\\services\\auth\\auth.service.ts:49:13)\n    at async D:\\MINE_MS\\Office\\Projects\\POS\\server\\src\\controllers\\auth\\auth.controller.ts:15:25","timestamp":"2025-04-02T22:55:31.046Z"}
{"level":"error","message":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticate (D:\\MINE_MS\\Office\\Projects\\POS\\server\\src\\middleware\\auth.middleware.ts:26:25)\n    at Layer.handle [as handle_request] (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-04-02T23:04:13.585Z"}
{"level":"error","message":"Error: Authentication required\n    at authenticate (D:\\MINE_MS\\Office\\Projects\\POS\\server\\src\\middleware\\auth.middleware.ts:23:13)\n    at Layer.handle [as handle_request] (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\MINE_MS\\Office\\Projects\\POS\\server\\node_modules\\express\\lib\\router\\index.js:328:13)","timestamp":"2025-04-02T23:08:27.304Z"}
{"level":"error","message":"Error: Invalid email or password\n    at AuthService.login (D:\\MINE_MS\\Office\\Projects\\POS\\backend\\src\\services\\auth\\auth.service.ts:49:13)\n    at async D:\\MINE_MS\\Office\\Projects\\POS\\backend\\src\\controllers\\auth\\auth.controller.ts:15:25","timestamp":"2025-04-08T00:26:58.338Z"}
{"level":"error","message":"Error: Invalid email or password\n    at AuthService.login (D:\\MINE_MS\\Office\\Projects\\POS\\backend\\src\\services\\auth\\auth.service.ts:49:13)\n    at async D:\\MINE_MS\\Office\\Projects\\POS\\backend\\src\\controllers\\auth\\auth.controller.ts:15:25","timestamp":"2025-04-08T00:27:48.406Z"}
{"level":"error","message":"Error: Category with this slug already exists\n    at CategoryService.createCategory (D:\\MINE_MS\\Office\\Projects\\POS\\backend\\src\\services\\admin\\category.service.ts:19:13)\n    at async D:\\MINE_MS\\Office\\Projects\\POS\\backend\\src\\controllers\\admin\\category.controller.ts:9:20","timestamp":"2025-04-08T00:33:57.448Z"}
{"level":"error","message":"TokenExpiredError: jwt expired\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:26:25)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-08T06:37:57.852Z"}
{"level":"error","message":"TokenExpiredError: jwt expired\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:26:25)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-08T06:37:57.920Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.user.findUnique()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\auth\\auth.service.ts:38:36\n\n  35 }\n  36 \n  37 async login(email: string, password: string) {\n→ 38   const user = await prisma.user.findUnique(\nCan't reach database server at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`\n\nPlease make sure your database server is running at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async AuthService.login (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\auth\\auth.service.ts:38:18)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\auth\\auth.controller.ts:15:25","timestamp":"2025-04-08T07:22:53.508Z"}
{"level":"error","message":"Error: Invalid email or password\n    at AuthService.login (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\auth\\auth.service.ts:49:13)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\auth\\auth.controller.ts:15:25","timestamp":"2025-04-08T10:59:50.659Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.color.findMany()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\color.service.ts:70:26\n\n  67 }\n  68 \n  69 const [colors, total] = await Promise.all([\n→ 70     prisma.color.findMany(\nThe column `Color.is_active` does not exist in the current database.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 0)\n    at async ColorService.listColors (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\color.service.ts:69:33)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\color.controller.ts:26:20","timestamp":"2025-04-08T12:21:34.349Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.color.findMany()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\color.service.ts:70:26\n\n  67 }\n  68 \n  69 const [colors, total] = await Promise.all([\n→ 70     prisma.color.findMany(\nThe column `Color.is_active` does not exist in the current database.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 0)\n    at async ColorService.listColors (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\color.service.ts:69:33)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\color.controller.ts:26:20","timestamp":"2025-04-08T14:34:53.590Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.color.findMany()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\color.service.ts:70:26\n\n  67 }\n  68 \n  69 const [colors, total] = await Promise.all([\n→ 70     prisma.color.findMany(\nThe column `Color.is_active` does not exist in the current database.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 0)\n    at async ColorService.listColors (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\color.service.ts:69:33)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\color.controller.ts:26:20","timestamp":"2025-04-08T14:53:50.625Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.color.findMany()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\color.service.ts:81:26\n\n  78 }\n  79 \n  80 const [colors, total] = await Promise.all([\n→ 81     prisma.color.findMany(\nThe column `Color.is_active` does not exist in the current database.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 0)\n    at async ColorService.listColors (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\color.service.ts:80:33)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\color.controller.ts:26:20","timestamp":"2025-04-08T14:59:42.621Z"}
{"level":"error","message":"Error: Invalid or expired session\n    at authenticate (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:31:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-08T23:08:26.472Z"}
{"level":"error","message":"Error: Invalid or expired session\n    at authenticate (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:31:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-08T23:08:26.624Z"}
{"level":"error","message":"Error: Size not found\n    at SizeService.getSizeById (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\src\\services\\admin\\size.service.ts:39:26)\n    at async SizeService.updateSize (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\src\\services\\admin\\size.service.ts:44:9)\n    at async D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\src\\controllers\\admin\\size.controller.ts:19:18","timestamp":"2025-04-09T00:04:30.478Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.supplier.count()` invocation in\nD:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\src\\services\\admin\\supplier.service.ts:102:29\n\n   99         },\n  100     },\n  101 }),\n→ 102 prisma.supplier.count(\nTimed out fetching a new connection from the connection pool. More info: http://pris.ly/d/connection-pool (Current connection pool timeout: 10, connection limit: 9)\n    at Wn.handleRequestError (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 1)\n    at async SupplierService.listSuppliers (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\src\\services\\admin\\supplier.service.ts:90:36)\n    at async D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\src\\controllers\\admin\\supplier.controller.ts:31:20","timestamp":"2025-04-09T01:01:57.165Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.branch.findMany()` invocation in\nD:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\src\\services\\admin\\branch.service.ts:112:21\n\n  109 \n  110 const [total, branches] = await Promise.all([\n  111   prisma.branch.count({ where }),\n→ 112   prisma.branch.findMany(\nTimed out fetching a new connection from the connection pool. More info: http://pris.ly/d/connection-pool (Current connection pool timeout: 10, connection limit: 9)\n    at Wn.handleRequestError (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 1)\n    at async BranchService.listBranches (D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\src\\services\\admin\\branch.service.ts:110:31)\n    at async D:\\MINE_MS\\Office\\Projects\\POS\\point_of_sales\\server\\src\\controllers\\admin\\branch.controller.ts:31:20","timestamp":"2025-04-09T01:02:01.333Z"}
{"level":"error","message":"TokenExpiredError: jwt expired\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:26:25)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-21T05:12:35.837Z"}
{"level":"error","message":"TokenExpiredError: jwt expired\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:26:25)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-21T05:12:35.888Z"}
{"level":"error","message":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at TLSSocket.<anonymous> (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:622:26)\n    at TLSSocket.emit (node:events:519:35)\n    at TLSSocket.emit (node:domain:489:12)\n    at node:net:351:12\n    at TCP.done (node:_tls_wrap:650:7)","timestamp":"2025-04-21T06:13:33.326Z"}
{"level":"error","message":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at TLSSocket.<anonymous> (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:622:26)\n    at TLSSocket.emit (node:events:519:35)\n    at TLSSocket.emit (node:domain:489:12)\n    at node:net:351:12\n    at TCP.done (node:_tls_wrap:650:7)","timestamp":"2025-04-21T06:13:33.340Z"}
{"level":"error","message":"Error: Authentication required\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:23:13)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)","timestamp":"2025-04-21T08:11:48.188Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.product.update()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:89:31\n\n  86 // Verify related entities exist\n  87 await this.verifyRelatedEntities(data);\n  88 \n→ 89 return prisma.product.update({\n       where: {\n         id: \"55b0a92e-6aed-436f-88e6-6c3ba19fd0d7\"\n       },\n       data: {\n         is_deal: true,\n         non_inventory_item: true,\n         auto_fill_on_demand_sheet: true,\n         is_batch: true,\n         display_on_pos: true,\n         is_active: false,\n         tax_id: \"dcf99532-64c2-4655-be8e-ced234f8e5e2\",\n         ~~~~~~\n         size_id: \"f581f3c3-649c-410f-9276-72eef57adc47\",\n         color_id: \"a50e9d18-0b88-4b7a-b202-d1fb7a4c69d4\",\n         supplier_id: \"2dee5291-8545-484b-bdb1-9c6c0d06e802\",\n         unit_id: \"5621a2e4-c3c8-477f-9d4f-667fa816673a\",\n         brand_id: \"3b1261b5-ff91-4567-8ccb-52c5a38d5636\",\n         subcategory_id: \"bde667f7-88e6-421d-8552-9a2b4d1ea20f\",\n         category_id: \"804818a6-650a-47dc-8f6a-a4563cfb8206\",\n         discount: 0,\n         sales_rate_inc_dis_and_tax: 1000,\n         sales_rate_exc_dis_and_tax: 1000,\n         purchase_rate: 1000,\n         sku: \"appleapp\",\n         name: \"App updated\",\n         discount_amount: undefined,\n     ?   id?: String | StringFieldUpdateOperationsInput,\n     ?   code?: String | StringFieldUpdateOperationsInput,\n     ?   pct_or_hs_code?: String | NullableStringFieldUpdateOperationsInput | Null,\n     ?   description?: String | NullableStringFieldUpdateOperationsInput | Null,\n     ?   min_qty?: Int | NullableIntFieldUpdateOperationsInput | Null,\n     ?   max_qty?: Int | NullableIntFieldUpdateOperationsInput | Null,\n     ?   images?: ProductUpdateimagesInput | String[],\n     ?   created_at?: DateTime | DateTimeFieldUpdateOperationsInput,\n     ?   updated_at?: DateTime | DateTimeFieldUpdateOperationsInput,\n     ?   unit?: UnitUpdateOneRequiredWithoutProductsNestedInput,\n     ?   tax?: TaxUpdateOneWithoutProductsNestedInput,\n     ?   category?: CategoryUpdateOneRequiredWithoutProductsNestedInput,\n     ?   subcategory?: SubcategoryUpdateOneWithoutProductsNestedInput,\n     ?   supplier?: SupplierUpdateOneWithoutProductsNestedInput,\n     ?   brand?: BrandUpdateOneWithoutProductsNestedInput,\n     ?   color?: ColorUpdateOneWithoutProductsNestedInput,\n     ?   size?: SizeUpdateOneWithoutProductsNestedInput,\n     ?   order_items?: OrderItemUpdateManyWithoutProductNestedInput\n       },\n       include: {\n         unit: true,\n         category: true,\n         subcategory: true,\n         tax: true,\n         supplier: true,\n         brand: true,\n         color: true,\n         size: true\n       }\n     })\n\nUnknown argument `tax_id`. Did you mean `tax`? Available options are marked with ?.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:19:21","timestamp":"2025-04-21T08:22:10.104Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.product.update()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:89:31\n\n  86 // Verify related entities exist\n  87 await this.verifyRelatedEntities(data);\n  88 \n→ 89 return prisma.product.update({\n       where: {\n         id: \"55b0a92e-6aed-436f-88e6-6c3ba19fd0d7\"\n       },\n       data: {\n         is_deal: true,\n         non_inventory_item: true,\n         auto_fill_on_demand_sheet: true,\n         is_batch: true,\n         display_on_pos: true,\n         is_active: false,\n         tax_id: \"dcf99532-64c2-4655-be8e-ced234f8e5e2\",\n         ~~~~~~\n         size_id: \"f581f3c3-649c-410f-9276-72eef57adc47\",\n         color_id: \"a50e9d18-0b88-4b7a-b202-d1fb7a4c69d4\",\n         supplier_id: \"2dee5291-8545-484b-bdb1-9c6c0d06e802\",\n         unit_id: \"5621a2e4-c3c8-477f-9d4f-667fa816673a\",\n         brand_id: \"3b1261b5-ff91-4567-8ccb-52c5a38d5636\",\n         subcategory_id: \"bde667f7-88e6-421d-8552-9a2b4d1ea20f\",\n         category_id: \"804818a6-650a-47dc-8f6a-a4563cfb8206\",\n         discount: 0,\n         sales_rate_inc_dis_and_tax: 1000,\n         sales_rate_exc_dis_and_tax: 1000,\n         purchase_rate: 1000,\n         sku: \"appleapp\",\n         name: \"App updated\",\n         discount_amount: undefined,\n     ?   id?: String | StringFieldUpdateOperationsInput,\n     ?   code?: String | StringFieldUpdateOperationsInput,\n     ?   pct_or_hs_code?: String | NullableStringFieldUpdateOperationsInput | Null,\n     ?   description?: String | NullableStringFieldUpdateOperationsInput | Null,\n     ?   min_qty?: Int | NullableIntFieldUpdateOperationsInput | Null,\n     ?   max_qty?: Int | NullableIntFieldUpdateOperationsInput | Null,\n     ?   images?: ProductUpdateimagesInput | String[],\n     ?   created_at?: DateTime | DateTimeFieldUpdateOperationsInput,\n     ?   updated_at?: DateTime | DateTimeFieldUpdateOperationsInput,\n     ?   unit?: UnitUpdateOneRequiredWithoutProductsNestedInput,\n     ?   tax?: TaxUpdateOneWithoutProductsNestedInput,\n     ?   category?: CategoryUpdateOneRequiredWithoutProductsNestedInput,\n     ?   subcategory?: SubcategoryUpdateOneWithoutProductsNestedInput,\n     ?   supplier?: SupplierUpdateOneWithoutProductsNestedInput,\n     ?   brand?: BrandUpdateOneWithoutProductsNestedInput,\n     ?   color?: ColorUpdateOneWithoutProductsNestedInput,\n     ?   size?: SizeUpdateOneWithoutProductsNestedInput,\n     ?   order_items?: OrderItemUpdateManyWithoutProductNestedInput\n       },\n       include: {\n         unit: true,\n         category: true,\n         subcategory: true,\n         tax: true,\n         supplier: true,\n         brand: true,\n         color: true,\n         size: true\n       }\n     })\n\nUnknown argument `tax_id`. Did you mean `tax`? Available options are marked with ?.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:19:21","timestamp":"2025-04-21T08:24:57.571Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.product.update()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:89:31\n\n  86 // Verify related entities exist\n  87 await this.verifyRelatedEntities(data);\n  88 \n→ 89 return prisma.product.update({\n       where: {\n         id: \"55b0a92e-6aed-436f-88e6-6c3ba19fd0d7\"\n       },\n       data: {\n         is_deal: true,\n         non_inventory_item: true,\n         auto_fill_on_demand_sheet: true,\n         is_batch: true,\n         display_on_pos: true,\n         is_active: false,\n         tax_id: \"dcf99532-64c2-4655-be8e-ced234f8e5e2\",\n         ~~~~~~\n         size_id: \"f581f3c3-649c-410f-9276-72eef57adc47\",\n         color_id: \"a50e9d18-0b88-4b7a-b202-d1fb7a4c69d4\",\n         supplier_id: \"2dee5291-8545-484b-bdb1-9c6c0d06e802\",\n         unit_id: \"5621a2e4-c3c8-477f-9d4f-667fa816673a\",\n         brand_id: \"3b1261b5-ff91-4567-8ccb-52c5a38d5636\",\n         subcategory_id: \"bde667f7-88e6-421d-8552-9a2b4d1ea20f\",\n         category_id: \"804818a6-650a-47dc-8f6a-a4563cfb8206\",\n         discount: 0,\n         sales_rate_inc_dis_and_tax: 1000,\n         sales_rate_exc_dis_and_tax: 1000,\n         purchase_rate: 1000,\n         sku: \"appleapp\",\n         name: \"App updated\",\n         discount_amount: undefined,\n     ?   id?: String | StringFieldUpdateOperationsInput,\n     ?   code?: String | StringFieldUpdateOperationsInput,\n     ?   pct_or_hs_code?: String | NullableStringFieldUpdateOperationsInput | Null,\n     ?   description?: String | NullableStringFieldUpdateOperationsInput | Null,\n     ?   min_qty?: Int | NullableIntFieldUpdateOperationsInput | Null,\n     ?   max_qty?: Int | NullableIntFieldUpdateOperationsInput | Null,\n     ?   images?: ProductUpdateimagesInput | String[],\n     ?   created_at?: DateTime | DateTimeFieldUpdateOperationsInput,\n     ?   updated_at?: DateTime | DateTimeFieldUpdateOperationsInput,\n     ?   unit?: UnitUpdateOneRequiredWithoutProductsNestedInput,\n     ?   tax?: TaxUpdateOneWithoutProductsNestedInput,\n     ?   category?: CategoryUpdateOneRequiredWithoutProductsNestedInput,\n     ?   subcategory?: SubcategoryUpdateOneWithoutProductsNestedInput,\n     ?   supplier?: SupplierUpdateOneWithoutProductsNestedInput,\n     ?   brand?: BrandUpdateOneWithoutProductsNestedInput,\n     ?   color?: ColorUpdateOneWithoutProductsNestedInput,\n     ?   size?: SizeUpdateOneWithoutProductsNestedInput,\n     ?   order_items?: OrderItemUpdateManyWithoutProductNestedInput\n       },\n       include: {\n         unit: true,\n         category: true,\n         subcategory: true,\n         tax: true,\n         supplier: true,\n         brand: true,\n         color: true,\n         size: true\n       }\n     })\n\nUnknown argument `tax_id`. Did you mean `tax`? Available options are marked with ?.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:19:21","timestamp":"2025-04-21T10:46:46.515Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.product.update()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:89:31\n\n  86 // Verify related entities exist\n  87 await this.verifyRelatedEntities(data);\n  88 \n→ 89 return prisma.product.update({\n       where: {\n         id: \"55b0a92e-6aed-436f-88e6-6c3ba19fd0d7\"\n       },\n       data: {\n         is_deal: true,\n         non_inventory_item: true,\n         auto_fill_on_demand_sheet: true,\n         is_batch: true,\n         display_on_pos: true,\n         is_active: false,\n         tax_id: \"dcf99532-64c2-4655-be8e-ced234f8e5e2\",\n         ~~~~~~\n         size_id: \"f581f3c3-649c-410f-9276-72eef57adc47\",\n         color_id: \"a50e9d18-0b88-4b7a-b202-d1fb7a4c69d4\",\n         supplier_id: \"2dee5291-8545-484b-bdb1-9c6c0d06e802\",\n         unit_id: \"5621a2e4-c3c8-477f-9d4f-667fa816673a\",\n         brand_id: \"3b1261b5-ff91-4567-8ccb-52c5a38d5636\",\n         subcategory_id: \"bde667f7-88e6-421d-8552-9a2b4d1ea20f\",\n         category_id: \"804818a6-650a-47dc-8f6a-a4563cfb8206\",\n         discount: 0,\n         sales_rate_inc_dis_and_tax: 1000,\n         sales_rate_exc_dis_and_tax: 1000,\n         purchase_rate: 1000,\n         sku: \"appleapp\",\n         name: \"App updated\",\n         discount_amount: undefined,\n     ?   id?: String | StringFieldUpdateOperationsInput,\n     ?   code?: String | StringFieldUpdateOperationsInput,\n     ?   pct_or_hs_code?: String | NullableStringFieldUpdateOperationsInput | Null,\n     ?   description?: String | NullableStringFieldUpdateOperationsInput | Null,\n     ?   min_qty?: Int | NullableIntFieldUpdateOperationsInput | Null,\n     ?   max_qty?: Int | NullableIntFieldUpdateOperationsInput | Null,\n     ?   images?: ProductUpdateimagesInput | String[],\n     ?   created_at?: DateTime | DateTimeFieldUpdateOperationsInput,\n     ?   updated_at?: DateTime | DateTimeFieldUpdateOperationsInput,\n     ?   unit?: UnitUpdateOneRequiredWithoutProductsNestedInput,\n     ?   tax?: TaxUpdateOneWithoutProductsNestedInput,\n     ?   category?: CategoryUpdateOneRequiredWithoutProductsNestedInput,\n     ?   subcategory?: SubcategoryUpdateOneWithoutProductsNestedInput,\n     ?   supplier?: SupplierUpdateOneWithoutProductsNestedInput,\n     ?   brand?: BrandUpdateOneWithoutProductsNestedInput,\n     ?   color?: ColorUpdateOneWithoutProductsNestedInput,\n     ?   size?: SizeUpdateOneWithoutProductsNestedInput,\n     ?   order_items?: OrderItemUpdateManyWithoutProductNestedInput\n       },\n       include: {\n         unit: true,\n         category: true,\n         subcategory: true,\n         tax: true,\n         supplier: true,\n         brand: true,\n         color: true,\n         size: true\n       }\n     })\n\nUnknown argument `tax_id`. Did you mean `tax`? Available options are marked with ?.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:22:21","timestamp":"2025-04-21T10:52:08.410Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.product.update()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:89:31\n\n  86 // Verify related entities exist\n  87 await this.verifyRelatedEntities(data);\n  88 \n→ 89 return prisma.product.update({\n       where: {\n         id: \"55b0a92e-6aed-436f-88e6-6c3ba19fd0d7\"\n       },\n       data: {\n         is_deal: true,\n         non_inventory_item: true,\n         auto_fill_on_demand_sheet: true,\n         is_batch: true,\n         display_on_pos: true,\n         is_active: false,\n         tax_id: \"dcf99532-64c2-4655-be8e-ced234f8e5e2\",\n         ~~~~~~\n         size_id: \"f581f3c3-649c-410f-9276-72eef57adc47\",\n         color_id: \"a50e9d18-0b88-4b7a-b202-d1fb7a4c69d4\",\n         supplier_id: \"2dee5291-8545-484b-bdb1-9c6c0d06e802\",\n         unit_id: \"5621a2e4-c3c8-477f-9d4f-667fa816673a\",\n         brand_id: \"3b1261b5-ff91-4567-8ccb-52c5a38d5636\",\n         subcategory_id: \"bde667f7-88e6-421d-8552-9a2b4d1ea20f\",\n         category_id: \"804818a6-650a-47dc-8f6a-a4563cfb8206\",\n         discount: 0,\n         sales_rate_inc_dis_and_tax: 1000,\n         sales_rate_exc_dis_and_tax: 1000,\n         purchase_rate: 1000,\n         sku: \"appleapp\",\n         name: \"App updated\",\n         discount_amount: undefined,\n     ?   id?: String | StringFieldUpdateOperationsInput,\n     ?   code?: String | StringFieldUpdateOperationsInput,\n     ?   pct_or_hs_code?: String | NullableStringFieldUpdateOperationsInput | Null,\n     ?   description?: String | NullableStringFieldUpdateOperationsInput | Null,\n     ?   min_qty?: Int | NullableIntFieldUpdateOperationsInput | Null,\n     ?   max_qty?: Int | NullableIntFieldUpdateOperationsInput | Null,\n     ?   images?: ProductUpdateimagesInput | String[],\n     ?   created_at?: DateTime | DateTimeFieldUpdateOperationsInput,\n     ?   updated_at?: DateTime | DateTimeFieldUpdateOperationsInput,\n     ?   unit?: UnitUpdateOneRequiredWithoutProductsNestedInput,\n     ?   tax?: TaxUpdateOneWithoutProductsNestedInput,\n     ?   category?: CategoryUpdateOneRequiredWithoutProductsNestedInput,\n     ?   subcategory?: SubcategoryUpdateOneWithoutProductsNestedInput,\n     ?   supplier?: SupplierUpdateOneWithoutProductsNestedInput,\n     ?   brand?: BrandUpdateOneWithoutProductsNestedInput,\n     ?   color?: ColorUpdateOneWithoutProductsNestedInput,\n     ?   size?: SizeUpdateOneWithoutProductsNestedInput,\n     ?   order_items?: OrderItemUpdateManyWithoutProductNestedInput\n       },\n       include: {\n         unit: true,\n         category: true,\n         subcategory: true,\n         tax: true,\n         supplier: true,\n         brand: true,\n         color: true,\n         size: true\n       }\n     })\n\nUnknown argument `tax_id`. Did you mean `tax`? Available options are marked with ?.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:22:21","timestamp":"2025-04-21T10:55:53.718Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.product.create()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:28:31\n\n  25 // Verify related entities exist\n  26 await this.verifyRelatedEntities(data);\n  27 \n→ 28 return prisma.product.create({\n       data: {\n         is_deal: true,\n         non_inventory_item: true,\n         auto_fill_on_demand_sheet: true,\n         is_batch: true,\n         display_on_pos: true,\n         is_active: true,\n         tax_id: \"dcf99532-64c2-4655-be8e-ced234f8e5e2\",\n         ~~~~~~\n         size_id: \"f581f3c3-649c-410f-9276-72eef57adc47\",\n         color_id: \"a4b311d2-34d6-4ef6-89db-6534acd21d5b\",\n         brand_id: \"3b1261b5-ff91-4567-8ccb-52c5a38d5636\",\n         supplier_id: \"2dee5291-8545-484b-bdb1-9c6c0d06e802\",\n         subcategory_id: \"bde667f7-88e6-421d-8552-9a2b4d1ea20f\",\n         category_id: \"804818a6-650a-47dc-8f6a-a4563cfb8206\",\n         discount: 2,\n         sales_rate_inc_dis_and_tax: 98,\n         sales_rate_exc_dis_and_tax: 100,\n         purchase_rate: 100,\n         sku: \"ske\",\n         unit_id: \"5621a2e4-c3c8-477f-9d4f-667fa816673a\",\n         name: \"test\",\n         code: \"1000\",\n         discount_amount: 0,\n     ?   id?: String,\n     ?   pct_or_hs_code?: String | Null,\n     ?   description?: String | Null,\n     ?   min_qty?: Int | Null,\n     ?   max_qty?: Int | Null,\n     ?   images?: ProductCreateimagesInput | String[],\n     ?   created_at?: DateTime,\n     ?   updated_at?: DateTime,\n     ?   unit?: UnitCreateNestedOneWithoutProductsInput,\n     ?   tax?: TaxCreateNestedOneWithoutProductsInput,\n     ?   category?: CategoryCreateNestedOneWithoutProductsInput,\n     ?   subcategory?: SubcategoryCreateNestedOneWithoutProductsInput,\n     ?   supplier?: SupplierCreateNestedOneWithoutProductsInput,\n     ?   brand?: BrandCreateNestedOneWithoutProductsInput,\n     ?   color?: ColorCreateNestedOneWithoutProductsInput,\n     ?   size?: SizeCreateNestedOneWithoutProductsInput,\n     ?   order_items?: OrderItemCreateNestedManyWithoutProductInput\n       },\n       include: {\n         unit: true,\n         category: true,\n         subcategory: true,\n         tax: true,\n         supplier: true,\n         brand: true,\n         color: true,\n         size: true\n       }\n     })\n\nUnknown argument `tax_id`. Did you mean `tax`? Available options are marked with ?.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-04-21T11:51:53.115Z"}
{"level":"error","message":"Error: Product with this SKU already exists\n    at ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:15:19)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-04-21T12:10:18.874Z"}
{"level":"error","message":"Error: Product with this SKU already exists\n    at ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:15:19)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-04-21T14:31:37.614Z"}
{"level":"error","message":"Error: Invalid email or password\n    at AuthService.login (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\auth\\auth.service.ts:49:13)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\auth\\auth.controller.ts:15:25","timestamp":"2025-04-23T09:15:39.999Z"}
{"level":"error","message":"Error: Validation failed\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\validation.middleware.ts:20:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-23T09:17:26.873Z"}
{"level":"error","message":"TokenExpiredError: jwt expired\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:26:25)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-23T09:19:57.182Z"}
{"level":"error","message":"TokenExpiredError: jwt expired\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:26:25)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-23T09:19:57.210Z"}
{"level":"error","message":"Error: Invalid or expired session\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:31:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-23T09:24:05.208Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.subcategory.findUnique()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:257:36\n\n  254 \n  255 if (data.subcategory_id) {\n  256     checks.push(\n→ 257         prisma.subcategory.findUnique(\nCan't reach database server at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`\n\nPlease make sure your database server is running at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 2)\n    at async ProductService.verifyRelatedEntities (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:303:9)\n    at async ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:27:9)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-04-23T09:24:42.826Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.unit.count()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\unit.service.ts:98:25\n\n  95         },\n  96     },\n  97 }),\n→ 98 prisma.unit.count(\nCan't reach database server at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`\n\nPlease make sure your database server is running at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 1)\n    at async UnitService.listUnits (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\unit.service.ts:86:32)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\unit.controller.ts:27:20","timestamp":"2025-04-28T19:19:22.850Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.brand.findMany()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\brand.service.ts:77:26\n\n  74 }\n  75 \n  76 const [brands, total] = await Promise.all([\n→ 77     prisma.brand.findMany(\nCan't reach database server at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`\n\nPlease make sure your database server is running at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 0)\n    at async BrandService.listBrands (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\brand.service.ts:76:33)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\brand.controller.ts:31:20","timestamp":"2025-04-28T19:19:22.877Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.color.findMany()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\color.service.ts:81:26\n\n  78 }\n  79 \n  80 const [colors, total] = await Promise.all([\n→ 81     prisma.color.findMany(\nCan't reach database server at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`\n\nPlease make sure your database server is running at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 0)\n    at async ColorService.listColors (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\color.service.ts:80:33)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\color.controller.ts:26:20","timestamp":"2025-04-28T19:19:22.897Z"}
{"level":"error","message":"TokenExpiredError: jwt expired\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:26:25)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-30T10:58:58.493Z"}
{"level":"error","message":"TokenExpiredError: jwt expired\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:26:25)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-30T10:58:58.616Z"}
{"level":"error","message":"MulterError: File too large\n    at abortWithCode (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\multer\\lib\\make-middleware.js:73:22)\n    at FileStream.<anonymous> (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\multer\\lib\\make-middleware.js:136:11)\n    at FileStream.emit (node:events:507:28)\n    at FileStream.emit (node:domain:489:12)\n    at SBMH.ssCb [as _cb] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\busboy\\lib\\types\\multipart.js:479:32)\n    at feed (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)\n    at SBMH.push (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)","timestamp":"2025-04-30T12:37:53.555Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.category.count()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\category.service.ts:134:23\n\n  131     },\n  132   },\n  133 }),\n→ 134 prisma.category.count(\nCan't reach database server at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`\n\nPlease make sure your database server is running at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 1)\n    at async CategoryService.listCategories (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\category.service.ts:119:33)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\category.controller.ts:31:18","timestamp":"2025-05-05T12:45:10.939Z"}
{"level":"error","message":"Error: Authentication required\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:23:13)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)","timestamp":"2025-05-15T11:32:41.744Z"}
{"level":"error","message":"Error: Authentication required\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:23:13)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)","timestamp":"2025-05-15T11:32:54.728Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.product.findMany()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:256:37\n\n  253 \n  254 async getFeaturedProducts() {\n  255     // Fetch featured products from the database\n→ 256     return await prisma.product.findMany(\nCan't reach database server at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`\n\nPlease make sure your database server is running at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async ProductService.getFeaturedProducts (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:256:16)\n    at async Promise.all (index 0)\n    at async AppService.getHomeData (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\app.service.ts:19:69)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\app.controller.ts:9:22","timestamp":"2025-05-15T15:10:36.998Z"}
{"level":"error","message":"Error: No products found matching the search criteria\n    at ProductService.getProductByNameSearch (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:328:19)\n    at async AppService.searchProducts (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\app.service.ts:33:26)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\app.controller.ts:14:30","timestamp":"2025-05-15T15:14:32.496Z"}
{"level":"error","message":"Error: No products found matching the search criteria\n    at ProductService.getProductByNameSearch (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:328:19)\n    at async AppService.searchProducts (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\app.service.ts:33:26)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\app.controller.ts:14:30","timestamp":"2025-05-15T15:14:39.516Z"}
{"level":"error","message":"Error: No products found matching the search criteria\n    at ProductService.getProductByNameSearch (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:328:19)\n    at async AppService.searchProducts (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\app.service.ts:33:26)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\app.controller.ts:14:30","timestamp":"2025-05-15T15:14:39.801Z"}
{"level":"error","message":"Error: No products found matching the search criteria\n    at ProductService.getProductByNameSearch (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:328:19)\n    at async AppService.searchProducts (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\app.service.ts:33:26)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\app.controller.ts:14:30","timestamp":"2025-05-15T15:14:40.117Z"}
{"level":"error","message":"Error: No products found matching the search criteria\n    at ProductService.getProductByNameSearch (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:328:19)\n    at async AppService.searchProducts (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\app.service.ts:33:26)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\app.controller.ts:14:30","timestamp":"2025-05-15T15:15:00.404Z"}
{"level":"error","message":"TokenExpiredError: jwt expired\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:26:25)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-05-16T11:41:18.136Z"}
{"level":"error","message":"Error: Product with this SKU already exists\n    at ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:58:19)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-05-16T11:41:48.808Z"}
{"level":"error","message":"Error: Validation failed\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\validation.middleware.ts:20:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-16T11:57:40.796Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'id')\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\order.controller.ts:9:58\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\asyncHandler.ts:6:21\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\validation.middleware.ts:13:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-16T11:57:50.889Z"}
{"level":"error","message":"Error: Insufficient quantity for product Cell Phone\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\order.service.ts:35:17\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\order.controller.ts:9:17","timestamp":"2025-05-16T11:58:59.445Z"}
{"level":"error","message":"Error: Insufficient quantity for product Organic Green Tea\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\order.service.ts:35:17\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\order.controller.ts:9:17","timestamp":"2025-05-16T12:00:01.566Z"}
{"level":"error","message":"Error: Insufficient quantity for product Organic Green Tea\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\order.service.ts:36:17\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\order.controller.ts:9:17","timestamp":"2025-05-16T12:07:52.720Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `tx.order.create()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\order.service.ts:60:36\n\n  57 const order_number = `ORD-${Date.now()}`;\n  58 \n  59 // Create the order\n→ 60 const order = await tx.order.create(\nForeign key constraint violated: `Order_user_id_fkey (index)`\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\order.service.ts:60:21\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\order.controller.ts:9:17","timestamp":"2025-05-16T12:08:14.612Z"}
{"level":"error","message":"PrismaClientInitializationError: Can't reach database server at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`\n\nPlease make sure your database server is running at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`.\n    at t (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:112:2473)\n    at async Bt.transaction (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:111:12613)\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8352)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\order.controller.ts:9:17","timestamp":"2025-05-17T13:11:50.175Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.product.count()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:236:28\n\n  233         },\n  234     },\n  235 }),\n→ 236 prisma.product.count(\nCan't reach database server at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`\n\nPlease make sure your database server is running at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 1)\n    at async ProductService.listProducts (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:216:35)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:39:20","timestamp":"2025-05-17T18:30:47.314Z"}
{"level":"error","message":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at TLSSocket.<anonymous> (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:622:26)\n    at TLSSocket.emit (node:events:519:35)\n    at TLSSocket.emit (node:domain:489:12)\n    at node:net:351:12\n    at TCP.done (node:_tls_wrap:650:7)","timestamp":"2025-05-17T19:58:39.570Z"}
{"level":"error","message":"TokenExpiredError: jwt expired\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:26:25)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-05-17T22:11:44.611Z"}
{"level":"error","message":"TokenExpiredError: jwt expired\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:26:25)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-05-17T22:37:11.438Z"}
{"level":"error","message":"Error: Validation failed\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\validation.middleware.ts:20:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-17T22:38:05.741Z"}
{"level":"error","message":"Error: Validation failed\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\validation.middleware.ts:20:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-17T22:40:18.327Z"}
{"level":"error","message":"Error: Validation failed\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\validation.middleware.ts:20:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-17T22:44:16.552Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `tx.product.create()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:46\n\n  91 // Start transaction for atomic operations\n  92 return await prisma.$transaction(async (tx) => {\n  93     // Create the product\n→ 94     const product = await tx.product.create({\n           data: {\n             name: \" Organic Green Tea\",\n             sku: \" GT-NEP-1102\",\n             code: \"1004\",\n             pct_or_hs_code: \" 0902.10\",\n             description: \" High-quality organic green tea leaves sourced from Nepal.\",\n             purchase_rate: \" 120.5\",\n                            ~~~~~~~~\n             sales_rate_exc_dis_and_tax: \" 150.0\",\n             sales_rate_inc_dis_and_tax: \" 165.0\",\n             discount_amount: \" 10.0\",\n             min_qty: \" 5\",\n             max_qty: \" 100\",\n             is_active: \" true\",\n             display_on_pos: \" true\",\n             is_batch: \" true\",\n             auto_fill_on_demand_sheet: \" false\",\n             non_inventory_item: \" false\",\n             is_deal: \" true\",\n             is_featured: false,\n             unit: {\n               connect: {\n                 id: \" 55ff3bdd-5ba0-4312-8626-9f7c7dc35074\"\n               }\n             },\n             tax: {\n               connect: {\n                 id: \" 32eb607c-b3b3-4703-a520-55e882fbb763\"\n               }\n             },\n             category: {\n               connect: {\n                 id: \" 8d7a0ea1-2620-45fd-b526-2b705702313c\"\n               }\n             },\n             subcategory: {\n               connect: {\n                 id: \" 0a05fc8e-1d22-4392-9d58-751228b901ac\"\n               }\n             },\n             supplier: {\n               connect: {\n                 id: \" bfab3f78-b3e8-4347-8f50-be4aa934ea5a\"\n               }\n             },\n             brand: {\n               connect: {\n                 id: \" e3413896-1090-4940-b4d0-9cd0d682cb73\"\n               }\n             },\n             color: {\n               connect: {\n                 id: \" 18c63d49-b23c-42ba-b8ee-4e9ed4875fe0\"\n               }\n             },\n             size: {\n               connect: {\n                 id: \" 0b9b5654-9a74-48f0-bfd2-23ffeea7964e\"\n               }\n             }\n           },\n           include: {\n             unit: true,\n             tax: true,\n             category: true,\n             subcategory: true,\n             supplier: true,\n             brand: true,\n             color: true,\n             size: true\n           }\n         })\n\nInvalid value for argument `purchase_rate`: invalid digit found in string. Expected decimal String.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:29\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:92:16)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-05-17T23:42:12.774Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `tx.product.create()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:46\n\n  91 // Start transaction for atomic operations\n  92 return await prisma.$transaction(async (tx) => {\n  93     // Create the product\n→ 94     const product = await tx.product.create({\n           data: {\n             name: \" Organic Green Tea\",\n             sku: \" GT-NEP-1102\",\n             code: \"1004\",\n             pct_or_hs_code: \" 0902.10\",\n             description: \" High-quality organic green tea leaves sourced from Nepal.\",\n             purchase_rate: \" 120.5\",\n                            ~~~~~~~~\n             sales_rate_exc_dis_and_tax: \" 150.0\",\n             sales_rate_inc_dis_and_tax: \" 165.0\",\n             discount_amount: \" 10.0\",\n             min_qty: \" 5\",\n             max_qty: \" 100\",\n             is_active: \" true\",\n             display_on_pos: \" true\",\n             is_batch: \" true\",\n             auto_fill_on_demand_sheet: \" false\",\n             non_inventory_item: \" false\",\n             is_deal: \" true\",\n             is_featured: false,\n             unit: {\n               connect: {\n                 id: \" 55ff3bdd-5ba0-4312-8626-9f7c7dc35074\"\n               }\n             },\n             tax: {\n               connect: {\n                 id: \" 32eb607c-b3b3-4703-a520-55e882fbb763\"\n               }\n             },\n             category: {\n               connect: {\n                 id: \" 8d7a0ea1-2620-45fd-b526-2b705702313c\"\n               }\n             },\n             subcategory: {\n               connect: {\n                 id: \" 0a05fc8e-1d22-4392-9d58-751228b901ac\"\n               }\n             },\n             supplier: {\n               connect: {\n                 id: \" bfab3f78-b3e8-4347-8f50-be4aa934ea5a\"\n               }\n             },\n             brand: {\n               connect: {\n                 id: \" e3413896-1090-4940-b4d0-9cd0d682cb73\"\n               }\n             },\n             color: {\n               connect: {\n                 id: \" 18c63d49-b23c-42ba-b8ee-4e9ed4875fe0\"\n               }\n             },\n             size: {\n               connect: {\n                 id: \" 0b9b5654-9a74-48f0-bfd2-23ffeea7964e\"\n               }\n             }\n           },\n           include: {\n             unit: true,\n             tax: true,\n             category: true,\n             subcategory: true,\n             supplier: true,\n             brand: true,\n             color: true,\n             size: true\n           }\n         })\n\nInvalid value for argument `purchase_rate`: invalid digit found in string. Expected decimal String.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:29\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:92:16)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-05-17T23:44:34.162Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `tx.product.create()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:46\n\n  91 // Start transaction for atomic operations\n  92 return await prisma.$transaction(async (tx) => {\n  93     // Create the product\n→ 94     const product = await tx.product.create({\n           data: {\n             name: \"Organic Green Tea\",\n             sku: \"GT-NEP-1102\",\n             code: \"1004\",\n             pct_or_hs_code: \"0902.10\",\n             description: \"High-quality organic green tea leaves sourced from Nepal.\",\n             purchase_rate: \"120.5\",\n             sales_rate_exc_dis_and_tax: \"150.0\",\n             sales_rate_inc_dis_and_tax: \"165.0\",\n             discount_amount: \"10.0\",\n             min_qty: \"5\",\n                      ~~~\n             max_qty: \"100\",\n             is_active: \"true\",\n             display_on_pos: \"true\",\n             is_batch: \"true\",\n             auto_fill_on_demand_sheet: \"false\",\n             non_inventory_item: \"false\",\n             is_deal: \"true\",\n             is_featured: false,\n             unit: {\n               connect: {\n                 id: \"55ff3bdd-5ba0-4312-8626-9f7c7dc35074\"\n               }\n             },\n             tax: {\n               connect: {\n                 id: \"32eb607c-b3b3-4703-a520-55e882fbb763\"\n               }\n             },\n             category: {\n               connect: {\n                 id: \"8d7a0ea1-2620-45fd-b526-2b705702313c\"\n               }\n             },\n             subcategory: {\n               connect: {\n                 id: \"0a05fc8e-1d22-4392-9d58-751228b901ac\"\n               }\n             },\n             supplier: {\n               connect: {\n                 id: \"bfab3f78-b3e8-4347-8f50-be4aa934ea5a\"\n               }\n             },\n             brand: {\n               connect: {\n                 id: \"e3413896-1090-4940-b4d0-9cd0d682cb73\"\n               }\n             },\n             color: {\n               connect: {\n                 id: \"18c63d49-b23c-42ba-b8ee-4e9ed4875fe0\"\n               }\n             },\n             size: {\n               connect: {\n                 id: \"0b9b5654-9a74-48f0-bfd2-23ffeea7964e\"\n               }\n             }\n           },\n           include: {\n             unit: true,\n             tax: true,\n             category: true,\n             subcategory: true,\n             supplier: true,\n             brand: true,\n             color: true,\n             size: true\n           }\n         })\n\nArgument `min_qty`: Invalid value provided. Expected Int or Null, provided String.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:29\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:92:16)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-05-17T23:47:58.750Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `tx.product.create()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:46\n\n  91 // Start transaction for atomic operations\n  92 return await prisma.$transaction(async (tx) => {\n  93     // Create the product\n→ 94     const product = await tx.product.create({\n           data: {\n             name: \"Organic Green Tea\",\n             sku: \"GT-NEP-1102\",\n             code: \"1004\",\n             pct_or_hs_code: \"0902.10\",\n             description: \"High-quality organic green tea leaves sourced from Nepal.\",\n             purchase_rate: \"120.5\",\n             sales_rate_exc_dis_and_tax: \"150.0\",\n             sales_rate_inc_dis_and_tax: \"165.0\",\n             discount_amount: \"10.0\",\n             min_qty: \"5\",\n                      ~~~\n             max_qty: \"100\",\n             is_active: \"true\",\n             display_on_pos: \"true\",\n             is_batch: \"true\",\n             auto_fill_on_demand_sheet: \"false\",\n             non_inventory_item: \"false\",\n             is_deal: \"true\",\n             is_featured: false,\n             unit: {\n               connect: {\n                 id: \"55ff3bdd-5ba0-4312-8626-9f7c7dc35074\"\n               }\n             },\n             tax: {\n               connect: {\n                 id: \"32eb607c-b3b3-4703-a520-55e882fbb763\"\n               }\n             },\n             category: {\n               connect: {\n                 id: \"8d7a0ea1-2620-45fd-b526-2b705702313c\"\n               }\n             },\n             subcategory: {\n               connect: {\n                 id: \"0a05fc8e-1d22-4392-9d58-751228b901ac\"\n               }\n             },\n             supplier: {\n               connect: {\n                 id: \"bfab3f78-b3e8-4347-8f50-be4aa934ea5a\"\n               }\n             },\n             brand: {\n               connect: {\n                 id: \"e3413896-1090-4940-b4d0-9cd0d682cb73\"\n               }\n             },\n             color: {\n               connect: {\n                 id: \"18c63d49-b23c-42ba-b8ee-4e9ed4875fe0\"\n               }\n             },\n             size: {\n               connect: {\n                 id: \"0b9b5654-9a74-48f0-bfd2-23ffeea7964e\"\n               }\n             }\n           },\n           include: {\n             unit: true,\n             tax: true,\n             category: true,\n             subcategory: true,\n             supplier: true,\n             brand: true,\n             color: true,\n             size: true\n           }\n         })\n\nArgument `min_qty`: Invalid value provided. Expected Int or Null, provided String.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:29\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:92:16)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-05-17T23:53:17.697Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `tx.product.create()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:46\n\n  91 // Start transaction for atomic operations\n  92 return await prisma.$transaction(async (tx) => {\n  93     // Create the product\n→ 94     const product = await tx.product.create({\n           data: {\n             name: \"Organic Green Tea\",\n             sku: \"GT-NEP-1102\",\n             code: \"1004\",\n             pct_or_hs_code: \"0902.10\",\n             description: \"High-quality organic green tea leaves sourced from Nepal.\",\n             purchase_rate: \"120.5\",\n             sales_rate_exc_dis_and_tax: \"150.0\",\n             sales_rate_inc_dis_and_tax: \"165.0\",\n             discount_amount: \"10.0\",\n             min_qty: \"5\",\n                      ~~~\n             max_qty: \"100\",\n             is_active: \"true\",\n             display_on_pos: \"true\",\n             is_batch: \"true\",\n             auto_fill_on_demand_sheet: \"false\",\n             non_inventory_item: \"false\",\n             is_deal: \"true\",\n             is_featured: false,\n             unit: {\n               connect: {\n                 id: \"55ff3bdd-5ba0-4312-8626-9f7c7dc35074\"\n               }\n             },\n             tax: {\n               connect: {\n                 id: \"32eb607c-b3b3-4703-a520-55e882fbb763\"\n               }\n             },\n             category: {\n               connect: {\n                 id: \"8d7a0ea1-2620-45fd-b526-2b705702313c\"\n               }\n             },\n             subcategory: {\n               connect: {\n                 id: \"0a05fc8e-1d22-4392-9d58-751228b901ac\"\n               }\n             },\n             supplier: {\n               connect: {\n                 id: \"bfab3f78-b3e8-4347-8f50-be4aa934ea5a\"\n               }\n             },\n             brand: {\n               connect: {\n                 id: \"e3413896-1090-4940-b4d0-9cd0d682cb73\"\n               }\n             },\n             color: {\n               connect: {\n                 id: \"18c63d49-b23c-42ba-b8ee-4e9ed4875fe0\"\n               }\n             },\n             size: {\n               connect: {\n                 id: \"0b9b5654-9a74-48f0-bfd2-23ffeea7964e\"\n               }\n             }\n           },\n           include: {\n             unit: true,\n             tax: true,\n             category: true,\n             subcategory: true,\n             supplier: true,\n             brand: true,\n             color: true,\n             size: true\n           }\n         })\n\nArgument `min_qty`: Invalid value provided. Expected Int or Null, provided String.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:29\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:92:16)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-05-17T23:58:04.232Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `tx.product.create()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:96:46\n\n  93 // Start transaction for atomic operations\n  94 return await prisma.$transaction(async (tx) => {\n  95     // Create the product\n→ 96     const product = await tx.product.create({\n           data: {\n             name: \"Organic Green Tea\",\n             sku: \"GT-NEP-1102\",\n             code: \"1004\",\n             pct_or_hs_code: \"0902.10\",\n             description: \"High-quality organic green tea leaves sourced from Nepal.\",\n             purchase_rate: \"120.5\",\n             sales_rate_exc_dis_and_tax: \"150.0\",\n             sales_rate_inc_dis_and_tax: \"165.0\",\n             discount_amount: \"10.0\",\n             min_qty: \"5\",\n                      ~~~\n             max_qty: \"100\",\n             is_active: \"true\",\n             display_on_pos: \"true\",\n             is_batch: \"true\",\n             auto_fill_on_demand_sheet: \"false\",\n             non_inventory_item: \"false\",\n             is_deal: \"true\",\n             is_featured: false,\n             unit: {\n               connect: {\n                 id: \"55ff3bdd-5ba0-4312-8626-9f7c7dc35074\"\n               }\n             },\n             tax: {\n               connect: {\n                 id: \"32eb607c-b3b3-4703-a520-55e882fbb763\"\n               }\n             },\n             category: {\n               connect: {\n                 id: \"8d7a0ea1-2620-45fd-b526-2b705702313c\"\n               }\n             },\n             subcategory: {\n               connect: {\n                 id: \"0a05fc8e-1d22-4392-9d58-751228b901ac\"\n               }\n             },\n             supplier: {\n               connect: {\n                 id: \"bfab3f78-b3e8-4347-8f50-be4aa934ea5a\"\n               }\n             },\n             brand: {\n               connect: {\n                 id: \"e3413896-1090-4940-b4d0-9cd0d682cb73\"\n               }\n             },\n             color: {\n               connect: {\n                 id: \"18c63d49-b23c-42ba-b8ee-4e9ed4875fe0\"\n               }\n             },\n             size: {\n               connect: {\n                 id: \"0b9b5654-9a74-48f0-bfd2-23ffeea7964e\"\n               }\n             }\n           },\n           include: {\n             unit: true,\n             tax: true,\n             category: true,\n             subcategory: true,\n             supplier: true,\n             brand: true,\n             color: true,\n             size: true\n           }\n         })\n\nArgument `min_qty`: Invalid value provided. Expected Int or Null, provided String.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:96:29\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:16)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-05-18T00:04:05.071Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `tx.product.create()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:96:46\n\n  93 // Start transaction for atomic operations\n  94 return await prisma.$transaction(async (tx) => {\n  95     // Create the product\n→ 96     const product = await tx.product.create({\n           data: {\n             name: \"Organic Green Tea\",\n             sku: \"GT-NEP-1102\",\n             code: \"1004\",\n             pct_or_hs_code: \"0902.10\",\n             description: \"High-quality organic green tea leaves sourced from Nepal.\",\n             purchase_rate: \"120.5\",\n             sales_rate_exc_dis_and_tax: \"150.0\",\n             sales_rate_inc_dis_and_tax: \"165.0\",\n             discount_amount: \"10.0\",\n             min_qty: 5,\n             max_qty: 100,\n             is_active: \"true\",\n                        ~~~~~~\n             display_on_pos: \"true\",\n             is_batch: \"true\",\n             auto_fill_on_demand_sheet: \"false\",\n             non_inventory_item: \"false\",\n             is_deal: \"true\",\n             is_featured: false,\n             unit: {\n               connect: {\n                 id: \"55ff3bdd-5ba0-4312-8626-9f7c7dc35074\"\n               }\n             },\n             tax: {\n               connect: {\n                 id: \"32eb607c-b3b3-4703-a520-55e882fbb763\"\n               }\n             },\n             category: {\n               connect: {\n                 id: \"8d7a0ea1-2620-45fd-b526-2b705702313c\"\n               }\n             },\n             subcategory: {\n               connect: {\n                 id: \"0a05fc8e-1d22-4392-9d58-751228b901ac\"\n               }\n             },\n             supplier: {\n               connect: {\n                 id: \"bfab3f78-b3e8-4347-8f50-be4aa934ea5a\"\n               }\n             },\n             brand: {\n               connect: {\n                 id: \"e3413896-1090-4940-b4d0-9cd0d682cb73\"\n               }\n             },\n             color: {\n               connect: {\n                 id: \"18c63d49-b23c-42ba-b8ee-4e9ed4875fe0\"\n               }\n             },\n             size: {\n               connect: {\n                 id: \"0b9b5654-9a74-48f0-bfd2-23ffeea7964e\"\n               }\n             }\n           },\n           include: {\n             unit: true,\n             tax: true,\n             category: true,\n             subcategory: true,\n             supplier: true,\n             brand: true,\n             color: true,\n             size: true\n           }\n         })\n\nArgument `is_active`: Invalid value provided. Expected Boolean, provided String.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:96:29\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:16)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-05-18T00:07:01.111Z"}
{"level":"error","message":"Error: Validation failed\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\validation.middleware.ts:20:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-18T00:14:03.519Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `tx.product.create()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:96:46\n\n  93 // Start transaction for atomic operations\n  94 return await prisma.$transaction(async (tx) => {\n  95     // Create the product\n→ 96     const product = await tx.product.create(\nTransaction API error: Transaction already closed: A query cannot be executed on an expired transaction. The timeout for this transaction was 5000 ms, however 5166 ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:96:29\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:16)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-05-18T00:16:46.142Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.product.create()` invocation:\n\n\nTransaction API error: Transaction already closed: A query cannot be executed on an expired transaction. The timeout for this transaction was 15000 ms, however 19565 ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async db_1.prisma.$transaction.maxWait (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:96:29)\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:94:16)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-05-18T00:21:47.083Z"}
{"level":"error","message":"Error: Resolved credential object is not valid\n    at SignatureV4S3Express.validateResolvedCredentials (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@smithy\\signature-v4\\dist-cjs\\index.js:553:13)\n    at SignatureV4S3Express.signRequest (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@smithy\\signature-v4\\dist-cjs\\index.js:478:10)\n    at async AwsSdkSigV4Signer.sign (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@aws-sdk\\core\\dist-cjs\\submodules\\httpAuthSchemes\\index.js:106:27)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@aws-sdk\\middleware-sdk-s3\\dist-cjs\\index.js:482:15\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@smithy\\middleware-retry\\dist-cjs\\index.js:320:38\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@aws-sdk\\middleware-flexible-checksums\\dist-cjs\\index.js:318:18\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@aws-sdk\\middleware-sdk-s3\\dist-cjs\\index.js:110:22\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@aws-sdk\\middleware-sdk-s3\\dist-cjs\\index.js:137:14\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@aws-sdk\\middleware-logger\\dist-cjs\\index.js:33:22\n    at async S3Service.uploadImage (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\common\\s3BucketService.ts:26:7)","timestamp":"2025-05-18T00:28:03.832Z"}
{"level":"error","message":"AccessControlListNotSupported: The bucket does not allow ACLs\n    at throwDefaultError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@smithy\\smithy-client\\dist-cjs\\index.js:867:20)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@smithy\\smithy-client\\dist-cjs\\index.js:876:5\n    at de_CommandError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@aws-sdk\\client-s3\\dist-cjs\\index.js:4952:14)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@smithy\\middleware-serde\\dist-cjs\\index.js:35:20\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@aws-sdk\\middleware-sdk-s3\\dist-cjs\\index.js:484:18\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@smithy\\middleware-retry\\dist-cjs\\index.js:320:38\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@aws-sdk\\middleware-flexible-checksums\\dist-cjs\\index.js:318:18\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@aws-sdk\\middleware-sdk-s3\\dist-cjs\\index.js:110:22\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@aws-sdk\\middleware-sdk-s3\\dist-cjs\\index.js:137:14","timestamp":"2025-05-18T00:31:31.807Z"}
{"level":"error","message":"Error: Product with this SKU already exists\n    at ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:89:19)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-05-18T01:26:49.039Z"}
{"level":"error","message":"Error: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at ApiResponse.send (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\utils\\apiResponse.ts:12:40)\n    at D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:17:79","timestamp":"2025-05-18T01:27:14.599Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.category.create()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\category.service.ts:28:44\n\n  25   : '1000';\n  26 \n  27 // First create without code\n→ 28 const category = await prisma.category.create({\n       data: {\n         name: \"bakery\",\n         description: \"This is a red bakery\",\n         ~~~~~~~~~~~\n         slug: \"bakery\",\n         image: \"http://image.com\",\n         code: \"1000\",\n         display_on_branches: [],\n     ?   id?: String,\n     ?   is_active?: Boolean,\n     ?   get_tax_from_item?: Boolean,\n     ?   editable_sale_rate?: Boolean,\n     ?   display_on_pos?: Boolean,\n     ?   created_at?: DateTime,\n     ?   updated_at?: DateTime,\n     ?   products?: ProductCreateNestedManyWithoutCategoryInput,\n     ?   branch?: BranchCreateNestedOneWithoutCategoryInput,\n     ?   CategoryImages?: CategoryImagesCreateNestedManyWithoutCategoryInput\n       }\n     })\n\nUnknown argument `description`. Available options are marked with ?.\n    at Cn (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async CategoryService.createCategory (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\category.service.ts:28:22)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\category.controller.ts:9:20","timestamp":"2025-05-18T02:25:30.253Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.category.findUnique()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\category.service.ts:9:23\n\n  6 export class CategoryService {\n  7   async createCategory(data: CreateCategoryInput) {\n  8     const [existingSlug, lastCategory] = await Promise.all([\n→ 9       prisma.category.findUnique(\nCan't reach database server at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`\n\nPlease make sure your database server is running at `pg-32be59aa-siraj000ahmed-92da.h.aivencloud.com:23114`.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 0)\n    at async CategoryService.createCategory (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\category.service.ts:8:42)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\category.controller.ts:9:20","timestamp":"2025-05-18T02:31:03.325Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.size.findMany()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\size.service.ts:87:25\n\n  84 }\n  85 \n  86 const [sizes, total] = await Promise.all([\n→ 87     prisma.size.findMany(\nServer has closed the connection.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Promise.all (index 0)\n    at async SizeService.listSizes (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\size.service.ts:86:32)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\size.controller.ts:26:20","timestamp":"2025-05-18T02:39:44.149Z"}
{"level":"error","message":"Error: Invalid or expired session\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:31:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-18T02:49:40.989Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.product.create()` invocation:\n\n\nTransaction API error: Transaction already closed: A query cannot be executed on an expired transaction. The timeout for this transaction was 15000 ms, however 16281 ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async db_1.prisma.$transaction.maxWait (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:97:29)\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async ProductService.createProduct (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\admin\\product.service.ts:95:16)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\admin\\product.controller.ts:9:21","timestamp":"2025-05-18T02:50:24.420Z"}
{"level":"error","message":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at TLSSocket.<anonymous> (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:622:26)\n    at TLSSocket.emit (node:events:519:35)\n    at TLSSocket.emit (node:domain:489:12)\n    at node:net:351:12\n    at TCP.done (node:_tls_wrap:650:7)","timestamp":"2025-05-18T04:14:30.983Z"}
{"level":"error","message":"Error: Invalid or expired session\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:31:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-18T04:15:07.340Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `tx.order.create()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\order.service.ts:59:36\n\n  56 const order_number = `ORD-${Date.now()}`;\n  57 \n  58 // Create the order\n→ 59 const order = await tx.order.create(\nForeign key constraint violated: `Order_customer_id_fkey (index)`\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\order.service.ts:59:21\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\order.controller.ts:9:17","timestamp":"2025-05-18T05:03:57.407Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `tx.product.findMany()` invocation in\nD:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\order.service.ts:14:41\n\n  11 ) {\n  12   return prisma.$transaction(async (tx: Prisma.TransactionClient) => {\n  13     // Fetch all products in the order to verify availability and get prices\n→ 14     const products = await tx.product.findMany(\nTransaction API error: Transaction already closed: A query cannot be executed on an expired transaction. The timeout for this transaction was 5000 ms, however 5940 ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\services\\user\\order.service.ts:14:24\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\controllers\\user\\order.controller.ts:9:17","timestamp":"2025-05-18T05:06:20.097Z"}
{"level":"error","message":"Error: Invalid or expired session\n    at authenticate (D:\\Work\\Product\\ace-studios\\point_of_sales\\server\\src\\middleware\\auth.middleware.ts:31:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-18T18:47:48.741Z"}
{"level":"error","message":"Error: Email already in use\n    at AuthService.register (D:\\Work\\Product\\ace-studios\\work\\backend\\src\\services\\auth\\auth.service.ts:17:13)\n    at async D:\\Work\\Product\\ace-studios\\work\\backend\\src\\controllers\\auth\\auth.controller.ts:9:16","timestamp":"2025-06-16T03:04:35.824Z"}
{"level":"error","message":"Error: Stock not found for product 79fef582-bd5b-40e2-bceb-9ebb20ff0377\n    at D:\\Work\\Product\\ace-studios\\work\\backend\\src\\services\\user\\order.service.ts:48:17\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async D:\\Work\\Product\\ace-studios\\work\\backend\\src\\controllers\\user\\order.controller.ts:9:17","timestamp":"2025-06-16T05:03:08.459Z"}
{"level":"error","message":"Error: Authentication required\n    at authenticate (D:\\Work\\Product\\ace-studios\\work\\backend\\src\\middleware\\auth.middleware.ts:23:13)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)","timestamp":"2025-06-17T11:36:56.436Z"}
{"level":"error","message":"Error: Authentication required\n    at authenticate (D:\\Work\\Product\\ace-studios\\work\\backend\\src\\middleware\\auth.middleware.ts:23:13)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)","timestamp":"2025-06-17T11:37:13.370Z"}
{"level":"error","message":"Error: Authentication required\n    at authenticate (D:\\Work\\Product\\ace-studios\\work\\backend\\src\\middleware\\auth.middleware.ts:23:13)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)","timestamp":"2025-06-17T11:37:18.235Z"}
{"level":"error","message":"Error: Stock already exists for this product in branch\n    at D:\\Work\\Product\\ace-studios\\work\\backend\\src\\services\\admin\\stock.service.ts:16:31\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async D:\\Work\\Product\\ace-studios\\work\\backend\\src\\controllers\\admin\\stock.controller.ts:9:19","timestamp":"2025-06-17T11:42:11.175Z"}
{"level":"error","message":"Error: Authentication required\n    at authenticate (D:\\Work\\Product\\ace-studios\\work\\backend\\src\\middleware\\auth.middleware.ts:23:13)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)","timestamp":"2025-06-17T11:42:26.594Z"}
{"level":"error","message":"PrismaClientKnownRequestError: Transaction API error: Unable to start a transaction in the given time.\n    at Bt.transaction (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:111:13041)\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:8352)\n    at async D:\\Work\\Product\\ace-studios\\work\\backend\\src\\controllers\\admin\\stock.controller.ts:14:19","timestamp":"2025-06-17T11:42:35.905Z"}
{"level":"error","message":"PrismaClientKnownRequestError: Transaction API error: Unable to start a transaction in the given time.\n    at Bt.transaction (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:111:13041)\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:8352)\n    at async D:\\Work\\Product\\ace-studios\\work\\backend\\src\\controllers\\admin\\stock.controller.ts:14:19","timestamp":"2025-06-17T11:42:45.466Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'id')\n    at D:\\Work\\Product\\ace-studios\\work\\backend\\src\\controllers\\user\\order.controller.ts:11:26\n    at D:\\Work\\Product\\ace-studios\\work\\backend\\src\\middleware\\asyncHandler.ts:6:21\n    at Layer.handle [as handle_request] (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at D:\\Work\\Product\\ace-studios\\work\\backend\\src\\middleware\\validation.middleware.ts:13:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17T11:48:42.586Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `tx.sale.create()` invocation in\nD:\\Work\\Product\\ace-studios\\work\\backend\\src\\services\\user\\order.service.ts:116:34\n\n  113   },\n  114 });\n  115 \n→ 116 const sale = await tx.sale.create(\nTransaction API error: Transaction not found. Transaction ID is invalid, refers to an old closed transaction Prisma doesn't have information about anymore, or was obtained before disconnecting.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\work\\backend\\src\\services\\user\\order.service.ts:116:20\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async D:\\Work\\Product\\ace-studios\\work\\backend\\src\\controllers\\user\\order.controller.ts:9:17","timestamp":"2025-06-17T11:50:56.341Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `tx.order.create()` invocation in\nD:\\Work\\Product\\ace-studios\\work\\backend\\src\\services\\user\\order.service.ts:104:36\n\n  101 // Execute stock updates and movements before creating order and sale\n  102 await Promise.all([...stockUpdates, ...stockMovements]);\n  103 \n→ 104 const order = await tx.order.create(\nTransaction API error: Transaction already closed: A query cannot be executed on an expired transaction. The timeout for this transaction was 5000 ms, however 5324 ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.\n    at Wn.handleRequestError (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\Work\\Product\\ace-studios\\work\\backend\\src\\services\\user\\order.service.ts:104:21\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async D:\\Work\\Product\\ace-studios\\work\\backend\\src\\controllers\\user\\order.controller.ts:9:17","timestamp":"2025-06-17T11:54:28.282Z"}
{"level":"error","message":"Error: Cannot update a cancelled order\n    at OrderService.updateOrderStatus (D:\\Work\\Product\\ace-studios\\work\\backend\\src\\services\\user\\order.service.ts:202:13)\n    at async D:\\Work\\Product\\ace-studios\\work\\backend\\src\\controllers\\user\\order.controller.ts:25:17","timestamp":"2025-06-17T12:20:41.982Z"}
{"level":"error","message":"Error: Cannot cancel completed\n    at D:\\Work\\Product\\ace-studios\\work\\backend\\src\\services\\user\\order.service.ts:227:47\n    at async Proxy._transactionWithCallback (D:\\Work\\Product\\ace-studios\\work\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async D:\\Work\\Product\\ace-studios\\work\\backend\\src\\controllers\\user\\order.controller.ts:30:17","timestamp":"2025-06-17T12:21:35.097Z"}
{"level":"error","message":"Error: Validation failed\n    at D:\\Work\\Product\\ace-studios\\work\\backend\\src\\middleware\\validation.middleware.ts:20:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17T12:26:22.847Z"}
{"level":"error","message":"Error: Authentication required\n    at authenticate (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\middleware\\auth.middleware.ts:23:13)\n    at Layer.handle [as handle_request] (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:328:13)","timestamp":"2025-06-24T12:52:47.355Z"}
{"level":"error","message":"Error: Validation failed\n    at C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\middleware\\validation.middleware.ts:20:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-24T12:53:16.810Z"}
{"level":"error","message":"Error: Validation failed\n    at C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\middleware\\validation.middleware.ts:20:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-24T12:53:17.039Z"}
{"level":"error","message":"Error: Validation failed\n    at C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\middleware\\validation.middleware.ts:20:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-24T12:53:18.077Z"}
{"level":"error","message":"Error: Validation failed\n    at C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\middleware\\validation.middleware.ts:20:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-24T12:53:18.616Z"}
{"level":"error","message":"Error: Authentication required\n    at authenticate (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\middleware\\auth.middleware.ts:23:13)\n    at Layer.handle [as handle_request] (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:328:13)","timestamp":"2025-06-24T12:55:13.153Z"}
{"level":"error","message":"SyntaxError: Expected double-quoted property name in JSON at position 23 (line 3 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-06-24T13:08:35.319Z"}
{"level":"error","message":"Error: Authentication required\n    at authenticate (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\middleware\\auth.middleware.ts:23:13)\n    at Layer.handle [as handle_request] (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\express\\lib\\router\\index.js:328:13)","timestamp":"2025-06-24T19:22:53.557Z"}
{"level":"error","message":"Error: Customer already exists\n    at CustomerService.createCustomer (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\services\\user\\customer.service.ts:40:19)\n    at async C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\controllers\\user\\customer.controller.ts:9:22","timestamp":"2025-06-24T19:24:27.483Z"}
{"level":"error","message":"Error: One or more products not found or inactive\n    at client_2.default.$transaction.maxWait (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\services\\user\\order.service.ts:25:15)\n    at async Proxy._transactionWithCallback (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\controllers\\user\\order.controller.ts:9:17","timestamp":"2025-06-24T19:43:39.641Z"}
{"level":"error","message":"Error: One or more products not found or inactive\n    at client_2.default.$transaction.maxWait (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\services\\user\\order.service.ts:25:15)\n    at async Proxy._transactionWithCallback (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\controllers\\user\\order.controller.ts:9:17","timestamp":"2025-06-24T22:31:02.325Z"}
{"level":"error","message":"Error: All items must be available in a single branch\n    at client_2.default.$transaction.maxWait (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\services\\user\\order.service.ts:47:15)\n    at async Proxy._transactionWithCallback (C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:8428)\n    at async C:\\Users\\Home\\Desktop\\Konain Bhai Work\\Manpasand-Pos\\Backend\\src\\controllers\\user\\order.controller.ts:9:17","timestamp":"2025-06-24T22:31:44.814Z"}
